angular.module('myApp')
    .controller('jobDetailsCtrl', function ($rootScope, $stateParams, $state, $http, requestSvc, $uibModal,) {
        var vm = this;
        console.log($stateParams);
        vm.id = $stateParams.id;
        requestSvc.jobsDetail(vm.id)
            .then(function (res) {
                console.log(res);
                if (res.data.code === 0) {
                    vm.jobInfo = res.data.data;
                    vm.industryInfo = res.data.data.industryList[0];
                    vm.tags = res.data.data.tags;
                } else {
                    $rootScope.alert(res.data.data.message);
                }
            });
        // 模态框
        vm.interest = function() {
            var modalInstance = $uibModal.open({
                animation: true,
                ariaDescribedBy: 'modal-body',
                templateUrl: 'shareModalContent.html',
                controller: 'ModalCtrl',
                controllerAs: 'vm',
                size: 'MD'
            });
            modalInstance.result.then(function() {});
        };
    })

// 模态框单独控制器
    .controller('ModalCtrl', function ($uibModalInstance) {
    var vm = this;
    vm.close = function () {
        $uibModalInstance.close();
    };
});